<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pyscript Test</title>
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
   <!--Thanks For The Py Code Daniel-->
</head>
<body>

    <script>
        const axios = require('axios');
const fs = require('fs');
const jsdom = require('jsdom');
const { JSDOM } = jsdom;

const clearConsole = () => {
    console.clear();
};

clearConsole();

const getInput = async () => {
    const website = await new Promise((resolve) => {
        const readline = require('readline');
        const rl = readline.createInterface({
            input: process.stdin,
            output: process.stdout
        });

        rl.question('Input Website\n', (answer) => {
            resolve(answer);
            rl.close();
        });
    });

    return website;
};

const main = async () => {
    const website = await getInput();

    try {
        const response = await axios.get(website);
        const html = response.data;
        const dom = new JSDOM(html);
        const { document } = dom.window;

        clearConsole();
        fs.writeFileSync('site.html', document.documentElement.outerHTML);

        console.clear();
        console.log('https://trumpyb.github.io/prog/website/site.html');
    } catch (error) {
        if (error.isAxiosError && error.response && error.response.status === 404) {
            console.log('Error: Page not found');
        } else {
            console.log('Error');
        }
    }
};

main();
    </script>
  <a href="https://trumpyb.github.io/prog/website/site.html">site</a>
</body>
</html>
